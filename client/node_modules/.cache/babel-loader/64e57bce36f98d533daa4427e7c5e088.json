{"ast":null,"code":"var _jsxFileName = \"/Users/matthewschnapp/Projects/toolreact-ToolReact/client/src/App.js\";\nimport React from 'react'; // eslint-disable-next-line no-unused-vars\n\nimport axios from 'axios';\nimport './App.css';\nimport Tools from './components/tools/viewTools/ToolView';\nimport Header from './components/header/header';\nimport Leftbar from './components/leftbar/Leftbar';\nimport AddTools from './components/tools/addTools/AddTools';\nthis.state = {\n  tools: [],\n  id: 0,\n  toolNumber: '',\n  description: '',\n  usedCount: 0,\n  checkOut: false,\n  broken: false,\n  missing: false,\n  comments: '',\n  intervalIsSet: false,\n  idToDelete: null,\n  objectToUpdate: null\n};\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getDataFromDb = () => {\n      fetch('http://localhost:3001/api/getData').then(tools => tools.json()).then(res => this.setState({\n        tools: res.tools\n      }));\n    };\n\n    this.missing = id => {\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool.id === id && tool.broken === false) {\n            tool.missing = !tool.missing;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.broken = id => {\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool.id === id && tool.missing === false) {\n            tool.broken = !tool.broken;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.checkOut = id => {\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool.id === id) {\n            tool.checkOut = !tool.checkOut;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.comment = id => {\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool.id === id) {\n            tool.comment = Comment;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.putDataToDB = () => {\n      let currentIds = this.state.tools.map(tools => tools.id);\n      let idToBeAdded = 0;\n\n      while (currentIds.includes(idToBeAdded)) {\n        ++idToBeAdded;\n      }\n\n      axios.post('http://localhost:3001/api/putData', {\n        id: idToBeAdded,\n        toolNumber: this.state.toolNumber,\n        description: this.state.description,\n        usedCount: this.state.usedCount,\n        checkOut: this.state.checkOut,\n        broken: this.state.broken,\n        missing: this.state.missing,\n        comments: this.state.comments\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getDataFromDb();\n\n    if (!this.state.intervalIsSet) {\n      let interval = setInterval(this.getDataFromDb, 1000);\n      this.setState({\n        intervalIsSet: interval\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({\n        intervalIsSet: null\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"belowheader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"leftBar col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Leftbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(AddTools, {\n      putDataToDB: this.putDataToDB,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"main col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Tools, {\n      tool: Tools.tools,\n      broken: this.broken,\n      missing: this.missing,\n      checkOut: this.checkOut,\n      comment: this.comment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/matthewschnapp/Projects/toolreact-ToolReact/client/src/App.js"],"names":["React","axios","Tools","Header","Leftbar","AddTools","state","tools","id","toolNumber","description","usedCount","checkOut","broken","missing","comments","intervalIsSet","idToDelete","objectToUpdate","App","Component","getDataFromDb","fetch","then","json","res","setState","map","tool","comment","Comment","putDataToDB","currentIds","idToBeAdded","includes","post","componentDidMount","interval","setInterval","componentWillUnmount","clearInterval","render"],"mappings":"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","sourcesContent":["import React from 'react';\n// eslint-disable-next-line no-unused-vars\nimport axios from 'axios'\nimport './App.css'\nimport Tools from './components/tools/viewTools/ToolView'\nimport Header from './components/header/header'\nimport Leftbar from './components/leftbar/Leftbar'\nimport AddTools from './components/tools/addTools/AddTools'\n\nthis.state = {\n  tools:[],\n  id: 0,\n  toolNumber: '',\n  description: '',\n  usedCount: 0,\n  checkOut: false,\n  broken: false,\n  missing: false,\n  comments: '',\n  intervalIsSet: false,\n  idToDelete: null,\n  objectToUpdate: null,\n};\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.getDataFromDb();\n        if (!this.state.intervalIsSet) {\n          let interval = setInterval(this.getDataFromDb, 1000);\n          this.setState({ intervalIsSet: interval });\n        }\n      }\n    componentWillUnmount() {\n        if (this.state.intervalIsSet) {\n          clearInterval(this.state.intervalIsSet);\n          this.setState({ intervalIsSet: null });\n        }\n      }\n    getDataFromDb = () => {\n        fetch('http://localhost:3001/api/getData')\n          .then((tools) => tools.json())\n          .then((res) => this.setState({ tools: res.tools }));\n      };\n    missing = (id) => {\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool.id === id && tool.broken === false) {\n          tool.missing = !tool.missing\n         }\n          return tool\n        })});\n      } \n    broken = (id) => {\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool.id === id && tool.missing === false) {\n          tool.broken = !tool.broken\n         }\n          return tool;\n        })});\n      }   \n    checkOut = (id) => {\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool.id === id) {\n          tool.checkOut = !tool.checkOut\n        }\n          return tool;\n      })});\n    } \n    comment = (id) => {\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool.id === id) {\n          tool.comment = Comment\n        }\n        return tool;\n      })})\n    }\n\n    putDataToDB = () => {\n      let currentIds = this.state.tools.map((tools) => tools.id);\n      let idToBeAdded = 0;\n      while (currentIds.includes(idToBeAdded)) {\n        ++idToBeAdded;\n      }\n      axios.post('http://localhost:3001/api/putData', {\n        id: idToBeAdded,\n        toolNumber: this.state.toolNumber,\n        description: this.state.description,\n        usedCount: this.state.usedCount,\n        checkOut: this.state.checkOut,\n        broken: this.state.broken,\n        missing: this.state.missing,\n        comments: this.state.comments,\n      });\n    };\nrender() {\n  return (\n    <div className=\"app\">\n      <div className=\"header\">\n        <Header />\n      </div>\n      <div className=\"belowheader\">\n      <div className=\"leftBar col\">\n        <Leftbar />\n        <AddTools \n                  putDataToDB={this.putDataToDB}\n        />\n      </div>\n      <div className=\"main col\">\n        <React.Fragment>\n          <Tools tool={Tools.tools}\n                 broken={this.broken}\n                 missing={this.missing}\n                 checkOut={this.checkOut}\n                 comment={this.comment}\n                 />\n        </React.Fragment>\n      </div>\n      </div>\n    </div>\n  );\n}\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}