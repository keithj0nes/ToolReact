{"ast":null,"code":"import _objectSpread from \"/Users/matthewschnapp/Projects/toolreact-ToolReact/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/matthewschnapp/Projects/toolreact-ToolReact/client/src/pages/Dashboard/App.js\";\nimport React from 'react';\nimport Modal from 'react-modal';\nimport axios from 'axios';\nimport './App.css';\nimport SingleTool from '../../components/tools/SingleTool/SingleTool';\nimport Header from '../../components/Header/Header';\nimport LeftBar from '../../components/LeftBar/LeftBar';\nimport AddTool from '../../components/Tools/AddTool/AddTool';\nModal.setAppElement('#root');\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tools: [],\n      intervalIsSet: false,\n      idToDelete: null,\n      objectToUpdate: null\n    };\n\n    this.getDataFromDb = () => {\n      fetch('http://localhost:3001/api/getData').then(tools => tools.json()).then(res => this.setState({\n        tools: res.tools\n      }));\n    };\n\n    this.missing = _id => {\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool._id === _id && tool.broken === false) {\n            tool.missing = !tool.missing;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.handleBroken = tool => {\n      console.log(tool, \"old Tool\");\n\n      const newTool = _objectSpread({}, tool, {\n        broken: !tool.broken\n      });\n\n      console.log(newTool, \"new Tool\");\n      axios.put('http://localhost:3001/api/brokenUpdate', {\n        tool: newTool\n      }).then(res => console.log(res)).catch(err => console.log(err));\n      console.log(newTool);\n    };\n\n    this.handleCheckOut = tool => {\n      const newTool = _objectSpread({}, tool, {\n        checkOut: !tool.checkOut\n      });\n\n      axios.put('http://localhost:3001/api/brokenUpdate', {\n        tool: newTool\n      }).then(res => console.log(res)).catch(err => console.log(err));\n      console.log(newTool);\n    };\n\n    this.handleMissing = tool => {\n      const newTool = _objectSpread({}, tool, {\n        missing: !tool.missing\n      });\n\n      axios.put('http://localhost:3001/api/brokenUpdate', {\n        tool: newTool\n      }).then(res => console.log(res)).catch(err => console.log(err));\n      console.log(newTool);\n    };\n\n    this.checkOut = _id => {\n      console.log(this.props.tool.checkOut);\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool._id === _id) {\n            tool.checkOut = !tool.checkOut;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.comment = _id => {\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool._id === _id) {\n            tool.comment = Comment;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.deleteTool = _id => {\n      console.log(\"Deleted\");\n      axios.delete('http://localhost:3001/api/deleteTool', {\n        params: {\n          _id: _id\n        }\n      }).then(res => console.log(res));\n    };\n\n    this.createTool = (toolNumber, description) => {\n      console.log(toolNumber, description);\n      axios.post('http://localhost:3001/api/createTool', {\n        toolNumber: toolNumber,\n        description: description\n      }).then(res => console.log(res));\n    };\n  }\n\n  componentDidMount() {\n    this.getDataFromDb();\n\n    if (!this.state.intervalIsSet) {\n      let interval = setInterval(this.getDataFromDb, 1000);\n      this.setState({\n        intervalIsSet: interval\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({\n        intervalIsSet: null\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"belowheader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"leftBar col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(LeftBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(AddTool, {\n      createTool: this.createTool,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"main col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, this.state.tools.map(tool => {\n      return React.createElement(SingleTool, {\n        key: tool._id,\n        tool: tool,\n        handleBroken: this.handleBroken,\n        handleMissing: this.handleMissing,\n        handleCheckOut: this.handleCheckOut,\n        comment: this.comment,\n        deleteTool: this.deleteTool,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      });\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/matthewschnapp/Projects/toolreact-ToolReact/client/src/pages/Dashboard/App.js"],"names":["React","Modal","axios","SingleTool","Header","LeftBar","AddTool","setAppElement","App","Component","state","tools","intervalIsSet","idToDelete","objectToUpdate","getDataFromDb","fetch","then","json","res","setState","missing","_id","map","tool","broken","handleBroken","console","log","newTool","put","catch","err","handleCheckOut","checkOut","handleMissing","props","comment","Comment","deleteTool","delete","params","createTool","toolNumber","description","post","componentDidMount","interval","setInterval","componentWillUnmount","clearInterval","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,UAAP,MAAuB,8CAAvB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,OAAOC,OAAP,MAAoB,wCAApB;AAEAL,KAAK,CAACM,aAAN,CAAoB,OAApB;;AAEA,MAAMC,GAAN,SAAkBR,KAAK,CAACS,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAChCC,KADgC,GACxB;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,aAAa,EAAE,KAFT;AAGNC,MAAAA,UAAU,EAAE,IAHN;AAINC,MAAAA,cAAc,EAAE;AAJV,KADwB;;AAAA,SAuB9BC,aAvB8B,GAuBd,MAAM;AAClBC,MAAAA,KAAK,CAAC,mCAAD,CAAL,CACGC,IADH,CACSN,KAAD,IAAWA,KAAK,CAACO,IAAN,EADnB,EAEGD,IAFH,CAESE,GAAD,IAAS,KAAKC,QAAL,CAAc;AAAET,QAAAA,KAAK,EAAEQ,GAAG,CAACR;AAAb,OAAd,CAFjB;AAGD,KA3B2B;;AAAA,SA6B9BU,OA7B8B,GA6BnBC,GAAD,IAAS;AACjB,WAAKF,QAAL,CAAc;AAAET,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KAAX,CAAiBY,GAAjB,CAAqBC,IAAI,IAAI;AAClD,cAAGA,IAAI,CAACF,GAAL,KAAaA,GAAb,IAAoBE,IAAI,CAACC,MAAL,KAAgB,KAAvC,EAA8C;AAC5CD,YAAAA,IAAI,CAACH,OAAL,GAAe,CAACG,IAAI,CAACH,OAArB;AACA;;AACA,iBAAOG,IAAP;AACD,SALoB;AAAT,OAAd;AAMC,KApC2B;;AAAA,SAsC9BE,YAtC8B,GAsCdF,IAAD,IAAU;AACnBG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkB,UAAlB;;AACA,YAAMK,OAAO,qBAAOL,IAAP;AAAaC,QAAAA,MAAM,EAAG,CAACD,IAAI,CAACC;AAA5B,QAAb;;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ,EAAqB,UAArB;AACA3B,MAAAA,KAAK,CAAC4B,GAAN,CAAU,wCAAV,EAAoD;AACpDN,QAAAA,IAAI,EAAEK;AAD8C,OAApD,EAECZ,IAFD,CAEME,GAAG,IAAIQ,OAAO,CAACC,GAAR,CAAYT,GAAZ,CAFb,EAGCY,KAHD,CAGOC,GAAG,IAAIL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAHd;AAIAL,MAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ;AACA,KA/CwB;;AAAA,SAgD9BI,cAhD8B,GAgDZT,IAAD,IAAU;AACrB,YAAMK,OAAO,qBAAOL,IAAP;AAAaU,QAAAA,QAAQ,EAAG,CAACV,IAAI,CAACU;AAA9B,QAAb;;AACAhC,MAAAA,KAAK,CAAC4B,GAAN,CAAU,wCAAV,EAAoD;AACpDN,QAAAA,IAAI,EAAEK;AAD8C,OAApD,EAECZ,IAFD,CAEME,GAAG,IAAIQ,OAAO,CAACC,GAAR,CAAYT,GAAZ,CAFb,EAGCY,KAHD,CAGOC,GAAG,IAAIL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAHd;AAIAL,MAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ;AACA,KAvDwB;;AAAA,SAwD9BM,aAxD8B,GAwDbX,IAAD,IAAU;AACpB,YAAMK,OAAO,qBAAOL,IAAP;AAAaH,QAAAA,OAAO,EAAG,CAACG,IAAI,CAACH;AAA7B,QAAb;;AACAnB,MAAAA,KAAK,CAAC4B,GAAN,CAAU,wCAAV,EAAoD;AACpDN,QAAAA,IAAI,EAAEK;AAD8C,OAApD,EAECZ,IAFD,CAEME,GAAG,IAAIQ,OAAO,CAACC,GAAR,CAAYT,GAAZ,CAFb,EAGCY,KAHD,CAGOC,GAAG,IAAIL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAHd;AAIAL,MAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ;AACA,KA/DwB;;AAAA,SAgE9BK,QAhE8B,GAgElBZ,GAAD,IAAS;AAClBK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKQ,KAAL,CAAWZ,IAAX,CAAgBU,QAA5B;AACA,WAAKd,QAAL,CAAc;AAAET,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KAAX,CAAiBY,GAAjB,CAAqBC,IAAI,IAAI;AAClD,cAAGA,IAAI,CAACF,GAAL,KAAaA,GAAhB,EAAqB;AACnBE,YAAAA,IAAI,CAACU,QAAL,GAAgB,CAACV,IAAI,CAACU,QAAtB;AACD;;AACC,iBAAOV,IAAP;AACH,SALsB;AAAT,OAAd;AAMD,KAxE6B;;AAAA,SA0E9Ba,OA1E8B,GA0EnBf,GAAD,IAAS;AACjB,WAAKF,QAAL,CAAc;AAAET,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KAAX,CAAiBY,GAAjB,CAAqBC,IAAI,IAAI;AAClD,cAAGA,IAAI,CAACF,GAAL,KAAaA,GAAhB,EAAqB;AACnBE,YAAAA,IAAI,CAACa,OAAL,GAAeC,OAAf;AACD;;AACD,iBAAOd,IAAP;AACD,SALsB;AAAT,OAAd;AAMD,KAjF6B;;AAAA,SAmF9Be,UAnF8B,GAmFhBjB,GAAD,IAAS;AACpBK,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA1B,MAAAA,KAAK,CAACsC,MAAN,CAAa,sCAAb,EAAqD;AACpDC,QAAAA,MAAM,EAAE;AAACnB,UAAAA,GAAG,EAAEA;AAAN;AAD4C,OAArD,EAEGL,IAFH,CAEQE,GAAG,IAAIQ,OAAO,CAACC,GAAR,CAAYT,GAAZ,CAFf;AAGD,KAxF6B;;AAAA,SA0F9BuB,UA1F8B,GA0FjB,CAACC,UAAD,EAAaC,WAAb,KAA6B;AACxCjB,MAAAA,OAAO,CAACC,GAAR,CAAYe,UAAZ,EAAwBC,WAAxB;AACA1C,MAAAA,KAAK,CAAC2C,IAAN,CAAW,sCAAX,EAAmD;AACjDF,QAAAA,UAAU,EAAEA,UADqC;AAEjDC,QAAAA,WAAW,EAAEA;AAFoC,OAAnD,EAIC3B,IAJD,CAIME,GAAG,IAAIQ,OAAO,CAACC,GAAR,CAAYT,GAAZ,CAJb;AAKD,KAjG6B;AAAA;;AAQ9B2B,EAAAA,iBAAiB,GAAG;AAChB,SAAK/B,aAAL;;AACA,QAAI,CAAC,KAAKL,KAAL,CAAWE,aAAhB,EAA+B;AAC7B,UAAImC,QAAQ,GAAGC,WAAW,CAAC,KAAKjC,aAAN,EAAqB,IAArB,CAA1B;AACA,WAAKK,QAAL,CAAc;AAAER,QAAAA,aAAa,EAAEmC;AAAjB,OAAd;AACD;AACF;;AAEHE,EAAAA,oBAAoB,GAAG;AACnB,QAAI,KAAKvC,KAAL,CAAWE,aAAf,EAA8B;AAC5BsC,MAAAA,aAAa,CAAC,KAAKxC,KAAL,CAAWE,aAAZ,CAAb;AACA,WAAKQ,QAAL,CAAc;AAAER,QAAAA,aAAa,EAAE;AAAjB,OAAd;AACD;AACF;;AA8EPuC,EAAAA,MAAM,GAAG;AACP,WAEI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAKI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,OAAD;AAAS,MAAA,UAAU,EAAE,KAAKT,UAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAFA,EAOA;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACY,KAAKhC,KAAL,CAAWC,KAAX,CAAiBY,GAAjB,CAAqBC,IAAI,IAAI;AAC7B,aAAO,oBAAC,UAAD;AAAY,QAAA,GAAG,EAAEA,IAAI,CAACF,GAAtB;AACU,QAAA,IAAI,EAAEE,IADhB;AAEU,QAAA,YAAY,EAAE,KAAKE,YAF7B;AAGU,QAAA,aAAa,EAAE,KAAKS,aAH9B;AAIU,QAAA,cAAc,EAAE,KAAKF,cAJ/B;AAKU,QAAA,OAAO,EAAE,KAAKI,OALxB;AAMU,QAAA,UAAU,EAAE,KAAKE,UAN3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAOO,KARP,CADZ,CAPA,CALJ,CAFJ;AA8BO;;AAlIyB;;AAsIlC,eAAe/B,GAAf","sourcesContent":["import React from 'react'\nimport Modal from 'react-modal'\nimport axios from 'axios'\nimport './App.css'\nimport SingleTool from '../../components/tools/SingleTool/SingleTool'\nimport Header from '../../components/Header/Header'\nimport LeftBar from '../../components/LeftBar/LeftBar'\nimport AddTool from '../../components/Tools/AddTool/AddTool'\n\nModal.setAppElement('#root')\n\nclass App extends React.Component {\n  state = {\n    tools: [],\n    intervalIsSet: false,\n    idToDelete: null,\n    objectToUpdate: null,\n  };\n\n    componentDidMount() {\n        this.getDataFromDb();\n        if (!this.state.intervalIsSet) {\n          let interval = setInterval(this.getDataFromDb, 1000);\n          this.setState({ intervalIsSet: interval });\n        }\n      }\n\n    componentWillUnmount() {\n        if (this.state.intervalIsSet) {\n          clearInterval(this.state.intervalIsSet);\n          this.setState({ intervalIsSet: null });\n        }\n      }\n\n    getDataFromDb = () => {\n        fetch('http://localhost:3001/api/getData')\n          .then((tools) => tools.json())\n          .then((res) => this.setState({ tools: res.tools }));\n      };\n\n    missing = (_id) => {\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool._id === _id && tool.broken === false) {\n          tool.missing = !tool.missing\n         }\n          return tool\n        })});\n      } \n\n    handleBroken = (tool) => {\n          console.log(tool, \"old Tool\")\n          const newTool = {...tool, broken : !tool.broken}\n          console.log(newTool, \"new Tool\")\n          axios.put('http://localhost:3001/api/brokenUpdate', {\n          tool: newTool})\n          .then(res => console.log(res))\n          .catch(err => console.log(err));\n          console.log(newTool)\n         }   \n    handleCheckOut = (tool) => {\n          const newTool = {...tool, checkOut : !tool.checkOut}\n          axios.put('http://localhost:3001/api/brokenUpdate', {\n          tool: newTool})\n          .then(res => console.log(res))\n          .catch(err => console.log(err));\n          console.log(newTool)\n         }\n    handleMissing = (tool) => {\n          const newTool = {...tool, missing : !tool.missing}\n          axios.put('http://localhost:3001/api/brokenUpdate', {\n          tool: newTool})\n          .then(res => console.log(res))\n          .catch(err => console.log(err));\n          console.log(newTool)\n         }      \n    checkOut = (_id) => {\n      console.log(this.props.tool.checkOut);\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool._id === _id) {\n          tool.checkOut = !tool.checkOut\n        }\n          return tool;\n      })});\n    } \n\n    comment = (_id) => {\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool._id === _id) {\n          tool.comment = Comment\n        }\n        return tool;\n      })})\n    }\n\n    deleteTool = (_id) => {\n      console.log(\"Deleted\")\n      axios.delete('http://localhost:3001/api/deleteTool', {\n       params: {_id: _id }})\n        .then(res => console.log(res))\n    };\n\n    createTool = (toolNumber, description) => {\n      console.log(toolNumber, description)\n      axios.post('http://localhost:3001/api/createTool', {\n        toolNumber: toolNumber,\n        description: description,\n      })\n      .then(res => console.log(res))\n    };\n\nrender() {\n  return (\n\n      <div className=\"app\">\n          <div className=\"header\">\n              <Header/>\n          </div>\n\n          <div className=\"belowheader\">\n          \n          <div className=\"leftBar col\">\n              <LeftBar />\n              <AddTool createTool={this.createTool}/>\n          </div>\n\n          <div className=\"main col\">\n                    { this.state.tools.map(tool => { \n                      return <SingleTool key={tool._id}\n                                       tool={tool} \n                                       handleBroken={this.handleBroken}\n                                       handleMissing={this.handleMissing}\n                                       handleCheckOut={this.handleCheckOut}\n                                       comment={this.comment}\n                                       deleteTool={this.deleteTool}/>\n                            }\n                          )\n                        }\n                  </div>\n                </div>\n              </div>\n          );\n        }\n      }\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}