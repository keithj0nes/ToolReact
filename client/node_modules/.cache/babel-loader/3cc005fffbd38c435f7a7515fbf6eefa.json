{"ast":null,"code":"var _jsxFileName = \"/Users/matthewschnapp/Projects/toolreact-ToolReact/client/src/App.js\";\nimport React from 'react'; // eslint-disable-next-line no-unused-vars\n\nimport axios from 'axios';\nimport './App.css';\nimport ToolView from './components/tools/viewTools/ToolView';\nimport Header from './components/header/header';\nimport Leftbar from './components/leftbar/Leftbar';\nimport AddTools from './components/tools/addTools/AddTools';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tools: [],\n      intervalIsSet: false,\n      idToDelete: null,\n      objectToUpdate: null\n    };\n\n    this.getDataFromDb = () => {\n      fetch('http://localhost:3001/api/getData').then(tools => tools.json()).then(res => this.setState({\n        tools: res.tools\n      }));\n    };\n\n    this.missing = toolNumber => {\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool.toolNumber === toolNumber && tool.broken === false) {\n            tool.missing = !tool.missing;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.broken = toolNumber => {\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool.toolNumber === toolNumber && tool.missing === false) {\n            tool.broken = !tool.broken;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.checkOut = toolNumber => {\n      console.log(this.props.tool.checkOut);\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool.toolNumber === toolNumber) {\n            tool.checkOut = !tool.checkOut;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.comment = id => {\n      this.setState({\n        tools: this.state.tools.map(tool => {\n          if (tool.id === id) {\n            tool.comment = Comment;\n          }\n\n          return tool;\n        })\n      });\n    };\n\n    this.deleteTool = _id => {\n      console.log(\"Deleted\");\n      axios.delete('http://localhost:3001/api/deleteTool', {\n        tool: {\n          _id: _id\n        }\n      });\n      console.log(\"deleted\");\n    };\n\n    this.createTool = (toolNumber, description) => {\n      console.log(toolNumber, description);\n      axios.post('http://localhost:3001/api/createTool', {\n        toolNumber: toolNumber,\n        description: description\n      }).then(res => console.log(res));\n    };\n  }\n\n  componentDidMount() {\n    this.getDataFromDb();\n\n    if (!this.state.intervalIsSet) {\n      let interval = setInterval(this.getDataFromDb, 5000);\n      this.setState({\n        intervalIsSet: interval\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({\n        intervalIsSet: null\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"belowheader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"leftBar col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Leftbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(AddTools, {\n      createTool: this.createTool,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"main col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, console.log(this.state.tools), this.state.tools.map(tool => {\n      return React.createElement(ToolView, {\n        key: tool.toolNumber,\n        tool: tool,\n        broken: this.broken,\n        missing: this.missing,\n        checkOut: this.checkOut,\n        comment: this.comment,\n        deleteTool: this.deleteTool,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      });\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/matthewschnapp/Projects/toolreact-ToolReact/client/src/App.js"],"names":["React","axios","ToolView","Header","Leftbar","AddTools","App","Component","state","tools","intervalIsSet","idToDelete","objectToUpdate","getDataFromDb","fetch","then","json","res","setState","missing","toolNumber","map","tool","broken","checkOut","console","log","props","comment","id","Comment","deleteTool","_id","delete","createTool","description","post","componentDidMount","interval","setInterval","componentWillUnmount","clearInterval","render"],"mappings":"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","sourcesContent":["import React from 'react';\n// eslint-disable-next-line no-unused-vars\nimport axios from 'axios'\nimport './App.css'\nimport ToolView from './components/tools/viewTools/ToolView'\nimport Header from './components/header/header'\nimport Leftbar from './components/leftbar/Leftbar'\nimport AddTools from './components/tools/addTools/AddTools'\n\n\n\nclass App extends React.Component {\n  state = {\n    tools: [],\n    intervalIsSet: false,\n    idToDelete: null,\n    objectToUpdate: null,\n  };\n    componentDidMount() {\n        this.getDataFromDb();\n        if (!this.state.intervalIsSet) {\n          let interval = setInterval(this.getDataFromDb, 5000);\n          this.setState({ intervalIsSet: interval });\n        }\n      }\n    componentWillUnmount() {\n        if (this.state.intervalIsSet) {\n          clearInterval(this.state.intervalIsSet);\n          this.setState({ intervalIsSet: null });\n        }\n      }\n    getDataFromDb = () => {\n        fetch('http://localhost:3001/api/getData')\n          .then((tools) => tools.json())\n          .then((res) => this.setState({ tools: res.tools }));\n      };\n    missing = (toolNumber) => {\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool.toolNumber === toolNumber && tool.broken === false) {\n          tool.missing = !tool.missing\n         }\n          return tool\n        })});\n      } \n    broken = (toolNumber) => {\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool.toolNumber === toolNumber && tool.missing === false) {\n          tool.broken = !tool.broken\n         }\n          return tool;\n        })});\n      }   \n    checkOut = (toolNumber) => {\n      console.log(this.props.tool.checkOut);\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool.toolNumber === toolNumber) {\n          tool.checkOut = !tool.checkOut\n        }\n          return tool;\n      })});\n    } \n    comment = (id) => {\n      this.setState({ tools: this.state.tools.map(tool => {\n        if(tool.id === id) {\n          tool.comment = Comment\n        }\n        return tool;\n      })})\n    }\n    deleteTool = (_id) => {\n      console.log(\"Deleted\")\n      axios.delete('http://localhost:3001/api/deleteTool', {\n        tool: { _id: _id }});\n        console.log(\"deleted\")\n    };\n    createTool = (toolNumber, description) => {\n      console.log(toolNumber, description)\n      axios.post('http://localhost:3001/api/createTool', {\n        toolNumber: toolNumber,\n        description: description,\n      })\n      .then(res => console.log(res))\n    };\nrender() {\n  return (\n    <div className=\"app\">\n      <div className=\"header\">\n        <Header/>\n      </div>\n      <div className=\"belowheader\">\n      <div className=\"leftBar col\">\n        <Leftbar />\n        <AddTools \n                  createTool={this.createTool}\n        />\n      </div>\n      <div className=\"main col\">\n      {console.log(this.state.tools)}\n                { this.state.tools.map(tool => { \n                  return <ToolView\n                  key={tool.toolNumber}\n                tool={tool} \n                broken={this.broken}\n                missing={this.missing}\n                checkOut={this.checkOut}\n                comment={this.comment}\n                deleteTool={this.deleteTool}\n                          />\n        })}\n      </div>\n      </div>\n    </div>\n  );\n}\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}